\subsection{Contributions}
Our paper has three main theorems.

 \input{theorems}

Theorem~\ref{thm:NN} considerably strengthens a result from
in~\cite{cohen15approximating}, which showed $\dist_2$
is a $3$-approximation of $\dist_N$. Our theorem finds $\dist_N$
exactly, and lets us
compute the persistent homology of $\dist_N$.
$\dist_N$ is defined on all points in space,
and is thus a metric extension~\cite{Naor15} of the edge-squared
metric
and of negative type distances~\cite{Deza1997} to the
entire space.

Theorem~\ref{thm:general-spanner} proves that a $(1+\eps)$-spanner of the edge-squared metric with points in constant dimension is sparser and can be computed more quickly than the Euclidean spanners of
Callahan and
Kosaraju~\cite{Callahan1993}. The latter spanners have
$O(n\eps^{-d})$ edges and are computable in $O(n \log n +
n\eps^{-d})$ time. To the authors' knowledge, these are the
sparsest quickly-constructable Euclidean spanners in terms of
$\eps$ dependence. Later works on
spanners have focused on bounding diameter,
degree, or total edge weight~\cite{arya95euclid, Elkin2013}.
We give a size
lower bound for $(1+\eps)$-Euclidean spanners, which is close
to the sparsity of our $(1+\eps)$ spanner of the edge-squared
metric.
Previously, sparse spanners of the edge-squared metric were shown to exist in two
dimensions via Yao graphs and Gabriel graphs~\cite{LiWan2001}.

Theorem~\ref{thm:distribution-spanner} proves that a $1$-spanner of
the edge-squared metric can be found assuming points are samples from a
probability density, by using a $k$-$NN$ graph for
appropriate $k$. Our result is tight when $d$ is constant. This
is not possible for Euclidean distance, as a $1$-spanner is almost
surely the complete graph. Without the probability density
assumption, there are point sets in $\mathbb{R}^4$ where
$1$-spanners
of the edge-squared metric require $\Omega(n^2)$ edges.
Finally, we show that spanners of $p$-power metrics, which are
edge-squared metrics but with powers of $p$ instead of $2$, generalize
Euclidean spanners and Euclidean MSTs. $p$-power metrics were
considered in~\cite{LiWan2001}.

%% Old outline: check this outline before submitting.
%% \begin{enumerate}
%% \item Definition of edge-squared.
%% \item Preliminaries
%% \item Outline/Overview/Previous Work
%% \item Interpretations based on known Machine Learning tools.
%% \begin{enumerate}
%% \item Gaussian Kernel similarity.
%% \item Generalization of Level-Set and Single-Linkage clustering. (\tim{This
%%     is not a very good point.})
%% \item Interpretation as $l_2$ on paths?
%% \end{enumerate}
%% \item Equality to a natural geodesic distance.
%% \begin{enumerate}
%% \item Define NN-metric.
%% \item Core Proof.
%% \item NN has a fast sparse spanner. Any spanner of the NN metric is a
%% spanner of edge-squared. (This result is theoretically
%%     superseded by our later result, but is of independent interest).
%% \item Persistent homology of the Nearest Neighbor metric can be
%% computed.
%% \end{enumerate}
%% \item Fast practical spanners for points in a distribution. ($k$-NN
%%     graph for $k = O( \log n)$.
%% \item Theoretically sparse, fast spanners for points in low dimension.  \tim{Low intrinsic dimension? Can cover trees do this for me?}
%% \item Remaining open questions.
%% \item Appendix:
%% \begin{enumerate}
%% \item Persistent homology can be put here, maybe.
%% \item Links to Heirarchies of Metrics: Edge-Squared is a natural
%% extension of negative type metrics, with potentially high doubling dimension.
%% \end{enumerate}
%%
%% \end{enumerate}
